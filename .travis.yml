language: python
sudo: false
cache: pip

python:
    - "2,7.12"

addons:
#    postgresql: "9.5"
    apt:
#only add the two lines below if you need wkhtmltopdf for your tests
#    sources:
#      - pov-wkhtmltopdf
      packages:
        - expect-dev # provides unbuffer utility
#       - python-lxml # because pip installation is slow
#       - python-simplejson
#       - python-serial
#       - python-yaml
#       - wkhtmltopdf # only add if needed and check the before_install section below

env:
    global:
        - VERSION="8.0" TESTS="0" LINT_CHECK="1"
#       - PHANTOMJS_VERSION="latest"
#       - WEBSITE_REPO="1"

# virtualenv:
#    system_site_packages: true

matrix:
    - LINT_CHECK="1"
    - MAKEPOT="1"
    - TESTS="1" ODOO_REPO="odoo/odoo" UNIT_TEST="1" MAKEPOT="1"
    - TESTS="1" ODOO_REPO="OCA/OCB"

install:
    - git clone --depth=1 https://github.com/OCA/maintainer-quality-tools.git ${HOME}/maintainer-quality-tools
    - export PATH=${HOME}/maintainer-quality-tools/travis:${PATH}
    - travis_install_nightly

script:
    - travis_run_tests

after_success:
    - travis_after_tests_success
